!function(t){"use strict";var e={};function i(){var e;(e=t(".mkdf-tours-filter-holder.mkdf-tours-filter-horizontal form"),{fieldsHelper:{init:function(){var t;t="undefined"!=typeof mkdfToursSearchData?mkdfToursSearchData.destinations:[],t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:t}),e.find(".mkdf-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:t})}}}).fieldsHelper.init()}function o(){}function n(){}function r(){}"undefined"!=typeof mkdf&&(mkdf.modules.destinations=e),e.mkdfOnDocumentReady=i,e.mkdfOnWindowLoad=o,e.mkdfOnWindowResize=n,e.mkdfOnWindowScroll=r,t(document).ready(i),t(window).load(o),t(window).resize(n),t(window).scroll(r)}(jQuery),function(c){"use strict";var t={};function e(){var t;d(),"undefined"!=typeof mkdf&&a(),r(),c(".mkdf-tour-item-single-holder").find(".mkdf-tour-tabs.mkdf-horizontal ul li a").on("click",function(t){t.preventDefault();var e=c(this),i=e.attr("href");"tour-item-gallery-id"===i&&r()}),f().fieldsHelper.init(),f().handleSearch.init(),(t=c(".mkdf-tours-masonry-item")).length&&t.each(function(){var t=c(this),e=t.find(".mkdf-tours-gim-content-holder"),i=e.find(".mkdf-tours-gim-excerpt"),o=e.find(".mkdf-tours-gim-main-info"),n=Math.ceil(i.height()+parseInt(i.css("margin-top")));o.css("margin-bottom","-"+n+"px")})}function i(){h()}function o(){r()}function n(){}function r(){var t=c(".mkdf-tour-masonry-gallery-holder .mkdf-tour-masonry-gallery");t.length&&t.each(function(){var t=c(this);!function(t,e){if(e.hasClass("mkdf-tours-gallery-images-fixed")){var i=parseInt(e.find(".mkdf-tour-gallery-item").css("padding-left")),o=e.find(".mkdf-tgi-masonry-default"),n=e.find(".mkdf-tgi-masonry-large-width"),r=e.find(".mkdf-tgi-masonry-large-height"),d=e.find(".mkdf-tgi-masonry-large-width-height");680<mkdf.windowWidth?(o.css("height",t-2*i),r.css("height",Math.round(2*t)-2*i),d.css("height",Math.round(2*t)-2*i)):(o.css("height",t-2*i),r.css("height",Math.round(2*t)-2*i),d.css("height",t-2*i)),n.css("height",t-2*i)}}(t.find(".mkdf-tour-grid-sizer").width(),t),t.waitForImages(function(){t.isotope({layoutMode:"packery",itemSelector:".mkdf-tour-gallery-item",percentPosition:!0,packery:{gutter:".mkdf-tour-grid-gutter",columnWidth:".mkdf-tour-grid-sizer"}}),t.css("opacity","1")})})}function d(){var t=c(".mkdf-tour-item-single-holder"),o=t.find(".mkdf-tour-tabs.mkdf-horizontal ul li a"),n=t.find(".mkdf-tour-item-section");o.first().addClass("mkdf-active-item"),o.on("click",function(t){t.preventDefault(),o.removeClass("mkdf-active-item");var e=c(this),i=e.attr("href");e.addClass("mkdf-active-item"),n.length&&n.each(function(){var t=c(this);t.attr("id")===i?(t.show(),"tour-item-location-id"===i&&s()):t.hide()})})}function a(){c(".mkdf-tour-item-single-holder").find(".mkdf-tour-tabs.mkdf-horizontal ul li a").on("click",function(t){t.preventDefault(),"tour-item-location-id"===c(this).attr("href")&&s()})}function s(){"undefined"!=typeof mkdf&&mkdf.modules.googleMap.mkdfShowGoogleMap()}function f(){var m,u=c(".mkdf-tours-search-main-filters-holder form");return{fieldsHelper:{init:function(){var t,a,s,f,e,i,o,n,r,d,l,m;t=u.find(".mkdf-tours-range-input"),a=u.find(".mkdf-tours-price-range-field"),s=u.find('[name="min_price"]'),f=u.find('[name="max_price"]'),e=a.data("min-price"),i=a.data("max-price"),o=a.data("chosen-min-price"),n=a.data("chosen-max-price"),t.length&&t.each(function(){noUiSlider.create(this,{start:[o,n],connect:!0,step:1,range:{min:[e],max:[i]},format:{to:function(t){return Math.floor(t)},from:function(t){return t}}}).on("update",function(t){var e=t[0],i=t[1],o=a.data("currency-symbol"),n=a.data("currency-symbol-position"),r="left"===n?o+e:e+o,d="left"===n?o+i:e+i;a.val(r+" - "+d),s.val(e),f.val(i)})}),m="undefined"!=typeof mkdfToursSearchData?mkdfToursSearchData.tours:[],m=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:m}),u.find(".mkdf-tours-keyword-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"tours",source:m}),l="undefined"!=typeof mkdfToursSearchData?mkdfToursSearchData.destinations:[],l=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:l}),u.find(".mkdf-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:l}),r=c(".mkdf-tours-select-placeholder"),d=function(t){""===t.val()?t.addClass("mkdf-tours-select-default-option"):t.removeClass("mkdf-tours-select-default-option")},r.length&&r.each(function(){var t=c(this);t.select2({minimumResultsForSearch:-1}),d(c(this)),t.on("change",function(){d(c(this))})})}},handleSearch:(m=function(t,o,e,n){var r=t.find('input[type="submit"]'),d=c(".mkdf-tours-search-content"),a=c(".mkdf-tours-search-page-holder"),s=!1;o=void 0===o||o,e=void 0===e||e,n=void 0!==n&&n;var i=r.data("searching-label"),f=r.val();if(!s){o&&r.val(i),e&&t.find('[name="page"]').val(1),s=!0,d.addClass("mkdf-tours-searching");var l={action:"tours_search_handle_form_submission"};l.fields=t.serialize(),c.ajax({type:"GET",url:mkdfToursAjaxURL,dataType:"json",data:l,success:function(t){var e,i;o&&r.val(f),d.removeClass("mkdf-tours-searching"),s=!1,d.find(".mkdf-tours-row .mkdf-tours-row-inner-holder").html(t.html),e=t.url,i="",location.href.match(/\?.*/)&&document.referrer&&(i=location.href.replace(/\?.*/,"")),window.history.replaceState({page:i+"?"+e},"",i+"?"+e),c(".mkdf-tours-search-pagination").remove(),d.append(t.paginationHTML),n&&c("html, body").animate({scrollTop:a.offset().top-80},700),h()}})}},{init:function(){var e,n,r,d,a,o,s,f,i,t,l;e=u,c("body").hasClass("post-type-archive-tour-item")&&e.on("submit",function(t){t.preventDefault(),t.stopPropagation(),m(e)}),n=u,r=c(".mkdf-search-ordering-item"),d=n.find('[name="order_by"]'),a=n.find('[name="order_type"]'),r.length&&r.on("click",function(t){t.preventDefault(),t.stopPropagation();var e=c(this);r.removeClass("mkdf-search-ordering-item-active"),e.addClass("mkdf-search-ordering-item-active");var i=e.data("order-by"),o=e.data("order-type");void 0!==i&&void 0!==o&&(d.val(i),a.val(o)),m(n,!1,!1)}),o=u,s=c(".mkdf-tours-search-view-item"),f=o.find('[name="view_type"]'),s.length&&s.on("click",function(t){t.preventDefault(),t.stopPropagation();var e=c(this);s.removeClass("mkdf-tours-search-view-item-active"),e.addClass("mkdf-tours-search-view-item-active");var i=e.data("type");void 0!==i&&f.val(i),m(o,!1,!1)}),i=u,t=c(".mkdf-tours-search-pagination"),l=i.find('[name="page"]'),t.length&&c(document).on("click",".mkdf-tours-search-pagination li",function(t){t.preventDefault(),t.stopPropagation();var e=c(this).data("page");void 0!==e&&l.val(e),m(i,!0,!1,!0)})}})}}function h(){var t=c(".mkdf-tours-gallery-item");t.length&&t.each(function(){var t=c(this).find(".mkdf-tours-gallery-item-content-holder"),e=t.find(".mkdf-tours-gallery-item-excerpt"),i=t.find(".mkdf-tours-gallery-main-info"),o=Math.ceil(e.height()+parseInt(e.css("margin-top")));i.css("margin-bottom","-"+o+"px")}),t.addClass("mkdf-tours-gallery-item-showed")}"undefined"!=typeof mkdf&&(mkdf.modules.tours=t),t.mkdfOnDocumentReady=e,t.mkdfOnWindowLoad=i,t.mkdfOnWindowResize=o,t.mkdfOnWindowScroll=n,t.mkdfInitTourItemTabs=d,t.mkdfTourTabsMapTrigger=a,t.mkdfToursGalleryAnimation=h,c(document).ready(e),c(window).load(i),c(window).resize(o),c(window).scroll(n)}(jQuery),function(f){"use strict";var t={};function e(){o()}function i(){o()}function o(){var t,e,i,o,n,r,d,a=f(".mkdf-tours-destination-list.mkdf-destinations-masonry .mkdf-tours-row-inner-holder"),s=a.find(".mkdf-tours-list-grid-sizer").width();t=s,e=a,i=parseInt(e.find(".mkdf-tours-destination-list-item").css("padding-left")),o=e.find(".mkdf-size-default"),n=e.find(".mkdf-size-large-width"),r=e.find(".mkdf-size-large-height"),d=e.find(".mkdf-size-large-width-height"),680<mkdf.windowWidth?(o.css("height",t-2*i),r.css("height",Math.round(2*t)-2*i),d.css("height",Math.round(2*t)-2*i),n.css("height",t-2*i)):(o.css("height",t-2*i),r.css("height",Math.round(2*t)-2*i),d.css("height",t-2*i),n.css("height",Math.round(t/2)-i)),a.waitForImages(function(){a.isotope({itemSelector:".mkdf-tours-row-item",percentPosition:!0,hiddenStyle:{opacity:0},visibleStyle:{opacity:1},layoutMode:"packery",packery:{gutter:".mkdf-tours-list-grid-gutter",columnWidth:".mkdf-tours-list-grid-sizer"}}),a.css("opacity","1")})}"undefined"!=typeof mkdf&&(mkdf.modules.destinationsListSC=t),t.mkdfOnWindowLoad=e,t.mkdfOnWindowResize=i,t.destinationsList=o,f(window).load(e),f(window).resize(i)}(jQuery),function(h){"use strict";var t={};function e(){i().init()}function k(){return"undefined"!=typeof mkdf}function i(){var t=h(".mkdf-tours-list-holder"),e=function(a){var s,f,l,m=a.find(".mkdf-tours-list-pagination-data"),u=a.find(".mkdf-tours-list-holder-inner");s=a.find(".mkdf-tours-load-more-button"),f=a.find(".mkdf-tours-pagination-holder"),l=!1,s.length&&s.on("click",function(t){t.preventDefault(),t.stopPropagation();var e,i,o,n,r=s.data("loading-label"),d=s.text();s.text(r),(i=(e=a).find(".mkdf-tour-list-filter-item")).removeClass("mkdf-tour-list-current-filter"),i.eq(0).addClass("mkdf-tour-list-current-filter"),e.find(".mkdf-tours-list-holder-inner").isotope({filter:"*"}),l||(l=!0,o=function(t){if(!0===t.havePosts){s.text(d);var e=h(t.html);u.append(e),u.waitForImages(function(){c(u),u.isotope("appended",e).isotope("reloadItems"),mkdf.modules.tours.mkdfToursGalleryAnimation()})}else s.remove(),f.html(t.message);l=!1},n={action:"mkdf_tours_list_ajax_pagination",fields:m.find("input").serialize()},h.ajax({url:mkdfToursAjaxURL,data:n,dataType:"json",type:"POST",success:function(t){t.havePosts&&m.find('[name="next_page"]').val(t.nextPage),k()&&mkdf.modules.common.mkdfInitParallax(),o.call(this,t)}}))})},c=function(t){if(t.parent().hasClass("mkdf-tours-type-masonry")){var e=parseInt(t.find(".mkdf-tours-row-item").css("padding-left")),i=t.find(".mkdf-size-default"),o=t.find(".mkdf-size-large-width"),n=t.find(".mkdf-size-large-height"),r=t.find(".mkdf-size-large-width-height"),d=t.find(".mkdf-tours-list-grid-sizer").width();680<mkdf.windowWidth?(i.css("height",d-2*e),n.css("height",Math.round(2*d)-2*e),r.css("height",Math.round(2*d)-2*e),o.css("height",d-2*e)):(i.css("height",d),n.css("height",d),r.css("height",d),o.css("height",Math.round(d/2)))}};return{init:function(){t.length&&void 0!==h.fn.isotope&&t.each(function(){var t,o,n;(t=h(this).find(".mkdf-tours-list-holder-inner")).animate({opacity:1}),c(t),t.isotope({percentPosition:!0,itemSelector:".mkdf-tours-row-item",transitionDuration:"0.4s",isInitLayout:!0,hiddenStyle:{opacity:0},visibleStyle:{opacity:1},layoutMode:"packery",packery:{columnWidth:".mkdf-tours-list-grid-sizer"}}),k()&&mkdf.modules.common.mkdfInitParallax(),h(window).resize(function(){c(t)}),o=h(this),(n=o.find(".mkdf-tour-list-filter-item")).on("click",function(t){t.preventDefault(),t.stopPropagation();var e=h(this),i=e.data("type");n.removeClass("mkdf-tour-list-current-filter"),e.addClass("mkdf-tour-list-current-filter"),i=void 0===i?"*":"."+i,o.find(".mkdf-tours-list-holder-inner").isotope({filter:i})}),e(h(this))})}}}"undefined"!=typeof mkdf&&(mkdf.modules.toursListSC=t),t.mkdfOnWindowLoad=e,t.toursList=i,h(window).load(e)}(jQuery);